{"version":3,"sources":["../../src/pages/register/register.module.ts","../../src/pages/register/register.ts"],"names":[],"mappings":"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","file":"21.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RegisterPage } from './register';\n\n@NgModule({\n  declarations: [\n    RegisterPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RegisterPage),\n  ],\n})\nexport class RegisterPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.module.ts","import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Loader, Api, Session } from '../../providers';\nimport { Idle } from '@ng-idle/core';\nimport { Device } from '@ionic-native/device';\ndeclare let Smartech:any;\n/**\n * Generated class for the RegisterPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-register',\n  templateUrl: 'register.html',\n})\nexport class RegisterPage {\n\n  isReadyToProceed: boolean;\n\n  form: FormGroup;\n\n  phoneNumber: string;\n\n  appVersion: string = '0.0.6';\n\n  constructor(public idle: Idle, public session: Session, public loading: Loader, public api: Api, public navCtrl: NavController, public navParams: NavParams, formBuilder: FormBuilder, private device: Device) {\n    this.form = formBuilder.group({\n      firstName: ['', Validators.compose([Validators.required, Validators.pattern('[a-zA-Z ]*')])],\n      lastName: ['', Validators.compose([Validators.required, Validators.pattern('[a-zA-Z ]*')])],\n      email: ['', Validators.required],\n      secretQuestion: ['', Validators.required],\n      secretAnswer: ['', Validators.required],\n      otp: ['', Validators.required],\n      // hint: ['', Validators.compose([Validators.required, Validators.minLength(10)])],\n      password: ['', Validators.compose([Validators.required, Validators.minLength(8), Validators.pattern('^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-.,]).{8,}$')])],\n      confirmPassword: ['', Validators.compose([Validators.required, Validators.minLength(8), Validators.pattern('^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-.,]).{8,}$')])],\n    });\n\n    this.form.valueChanges.subscribe((v) => {\n      this.isReadyToProceed = this.form.valid;\n    });\n  }\n\n  ionViewDidLoad() {\n    this.phoneNumber = this.navParams.get('phone');\n  }\n\n  ionViewWillEnter() {\n    this.idle.stop();\n  }\n\n  ionViewWillLeave() {\n    this.idle.watch();\n  }\n\n  gotoLogin() {\n    this.navCtrl.push('SigninPage');\n  }\n\n  gotoNext() {\n    document.getElementById(\"secondForm\").style.display = \"block\";\n    document.getElementById(\"firstForm\").style.display = \"none\";\n  }\n\n  gotoPrevious() {\n    document.getElementById(\"secondForm\").style.display = \"none\";\n    document.getElementById(\"firstForm\").style.display = \"block\";\n  }\n\n  doRegister() {\n    if(this.form.value.password != this.form.value.confirmPassword) {\n      this.api.messageHandler('Password does not match', 5000, 'bottom');\n      return;\n    }\n    this.loading.show('Creating your account...');\n    var req = {\n      confirmPassword: this.form.value.confirmPassword,\n      //confirmSecretAnswer: \"string\",\n      emailAddress: this.form.value.email,\n      firstName: this.form.value.firstName,\n      lastName: this.form.value.lastName,\n      password: this.form.value.password,\n      phoneNumber: this.phoneNumber,\n      secretAnswer: this.form.value.secretAnswer,\n      secretQuestion: this.form.value.secretQuestion,\n      otp: this.form.value.otp,\n      //deviceId: this.device.uuid,\n       deviceId: 'df1284ucnod',\n      appVersion: this.appVersion,\n      //  hint: this.form.value.hint,\n\n    };\n\n    console.log(req, 'Body');\n    this.api.post('login-controller/register-user', req).subscribe((res: any) => {\n      console.log('Register user Response', res)\n      this.loading.hide();  \n      if(res.code == '00') {\n\n        this.session._setPhoneNumber(res.data.phoneNumber);\n        this.session._setSessionKey(res.data.sessionKey);\n        this.session._setEmail(res.data.emailAddress);\n        this.session._setFirstname(res.data.firstName);\n        this.session._setLastname(res.data.lastName);\n        this.session._setCustID(res.data.customerId);\n      \n        const payload = {\n          CUSTOMER_ID: res.data.customerId\n        }\n        Smartech.setIdentity(payload.CUSTOMER_ID);\n        Smartech.track(\"REGISTER_SUCCESSFUL\",payload);\n\n        \n        // this.navCtrl.setRoot('DashboardPage');\n         this.navCtrl.push('DashboardPage');\n      }\n      else {\n        this.api.messageHandler(res.message, 5000, 'top');\n        const payload = {\n          CUSTOMER_ID: res.data.customerId\n        }\n        Smartech.setIdentity(payload.CUSTOMER_ID);\n        Smartech.track(\"REGISTER_STEP_2_FAILED\",payload);\n      }\n\n    }, (error: any) => {\n      this.api.messageHandler(error.error.message);\n    }, () => {\n      this.loading.hide();  \n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.ts"],"sourceRoot":""}